<div class="widget-output-container" fxLayout="column" #testing>
    <div class="widget-title" *ngIf="editMode" fxLayout="row" fxFlex="1 1 30px">
        <span fxFlex="1 1 100%">{{ widget.config.title }}</span>
        <span>
            <button mat-button color="primary" class="close-edit-view-btn" (click)="closeViewEditMode()">
                <mat-icon fontSet="denali" fontIcon="d-close"></mat-icon>
            </button>
        </span>
    </div>

    <div class="widget-container" 
        [ngClass]="{'one-row': bigNumberConfig.bigNumberMetrics.length < 4, 'two-row': bigNumberConfig.bigNumberMetrics.length == 4}">
    
        <div *ngFor="let metric of bigNumberConfig.bigNumberMetrics" class="big-number-container">
            <div [style.background]="metric.backgroundColor">
                <div class="number-container" [ngClass]="{'white-text': metric.backgroundLuma < 128}">
                    <span [ngClass]="{'xlarge-size': metric.prefixSize=='xl', 'large-size': metric.prefixSize=='l', 'medium-size': metric.prefixSize=='m', 'small-size': metric.prefixSize=='s'}">{{metric.prefix}}</span>
                    <span class="big-number">{{metric.bigNumber}}</span>
                    <span [ngClass]="{'xlarge-size': metric.postfixSize=='xl', 'large-size': metric.postfixSize=='l', 'medium-size': metric.postfixSize=='m', 'small-size': metric.postfixSize=='s'}">{{metric.postfix}}</span>
                    <div  [ngClass]="{'xlarge-size': metric.captionSize=='xl', 'large-size': metric.captionSize=='l', 'medium-size': metric.captionSize=='m', 'small-size': metric.captionSize=='s'}">{{metric.caption}}</div>
                </div>
            </div>
            <div class="metric-name" [style.background]="metric.backgroundColorTransparent" > {{metric.metricName}}</div>
        </div>
    </div>
</div>

<!-- NOTE: This needs to move to other component -->
<div class="widget-controls-container" *ngIf="editMode">
        <!-- tabs with config content -->
        <mat-tab-group class="widget-configs" color="primary" [@.disabled]="'true'">
            <mat-tab label="Queries" class="test">
                <!-- ng-template is to lazy-load tab content (see: https://material.angular.io/components/tabs/overview#lazy-loading ) -->
                <ng-template matTabContent>
                    <widget-config-metric-queries [widget]="widget"></widget-config-metric-queries>
                </ng-template>
            </mat-tab>
            <!-- <mat-tab label="General">
                <ng-template matTabContent>
                    <widget-config-general [widget]="widget"></widget-config-general>
                </ng-template>
            </mat-tab>
            <mat-tab label="Time Configuration">
                <ng-template matTabContent>
                    <widget-config-time [widget]="widget"></widget-config-time>
                </ng-template>
            </mat-tab>
            <mat-tab label="Axes">
                <ng-template matTabContent>
                    <widget-config-axes [widget]="widget"></widget-config-axes>
                </ng-template>
            </mat-tab>
            <mat-tab label="Visual Appearance">
                <ng-template matTabContent>
                    <widget-config-visual-appearance [widget]="widget"></widget-config-visual-appearance>
                </ng-template>
            </mat-tab>
            <mat-tab label="Legend">
                <ng-template matTabContent>
                    <widget-config-legend [widget]="widget"></widget-config-legend>
                </ng-template>
            </mat-tab>
            <mat-tab label="Alerts">
                <ng-template matTabContent>
                    <widget-config-alerts [widget]="widget"></widget-config-alerts>
                </ng-template>
            </mat-tab>
     -->
            <mat-tab>
                <!-- custom tab label. (see: https://material.angular.io/components/tabs/overview#labels) -->
                <ng-template mat-tab-label>
                    &lt;/&gt; Query Editor
                </ng-template>
                <ng-template matTabContent>
                    <widget-config-query-inspector [widget]="widget"></widget-config-query-inspector>
                </ng-template>
            </mat-tab>
        </mat-tab-group>
        <div class="widget-actions">
            <!-- controls to save/cancel -->
            <button mat-raised-button color="primary" class="mat-elevation-z0" (click)="closeViewEditMode()">Apply</button>
            <button mat-stroked-button color="primary" class="mat-elevation-z0">Cancel</button>
        </div>
    </div>
    