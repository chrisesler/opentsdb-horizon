!function e(t,o,s){function r(h,l){if(!o[h]){if(!t[h]){var i="function"==typeof require&&require;if(!l&&i)return i(h,!0);if(n)return n(h,!0);var a=new Error("Cannot find module '"+h+"'");throw a.code="MODULE_NOT_FOUND",a}var d=o[h]={exports:{}};t[h][0].call(d.exports,function(e){var o=t[h][1][e];return r(o?o:e)},d,d.exports,e,t,o,s)}return o[h].exports}for(var n="function"==typeof require&&require,h=0;h<s.length;h++)r(s[h]);return r}({1:[function(e,t,o){},{}],2:[function(e,t,o){function s(e,t){this.id=t.id,this.value=t.value,this.scaleId=t.scaleId,this.chart=e,this.options=t,this.update()}s.prototype.update=function(){var e=this.chart,t=this.options.borderWidth||1,o=t%2==1?.5:0;this.x1=Math.round(e.chartArea.left),this.y1=e.scales[this.scaleId].getPixelForValue(this.value)+o,this.x2=this.x1+Math.round(e.chartArea.right-e.chartArea.left),this.y2=this.y1},s.prototype.setBorder=function(e){this.border=e},s.prototype.draw=function(e){e.beginPath(),e.setLineDash&&e.setLineDash(this.options.borderDash||[]);var t=this.options.borderWidth||1;e.lineWidth=t,e.strokeStyle=this.options.borderColor||"#000000",e.lineDashOffset=this.options.borderDashOffset||0,e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2),e.stroke(),e.closePath();var o=this.options.borderWidth||1,s=5;this.border&&(e.beginPath(),e.strokeStyle="rgba(0,0,0,1)",e.lineWidth=2,e.setLineDash([4,2]),e.strokeRect(this.x1,this.y1-(s+o),this.x2-this.x1,2*(o+s)),e.closePath(),e.restore())},s.prototype.inRange=function(e,t,o){return this.x1<=e&&this.x2>=e&&this.y1-o<=t&&this.y1+o>=t},t.exports=s},{}],3:[function(e,t,o){var s=e("chart.js");s="function"==typeof s?s:window.Chart,s.Threshold=s.Threshold||{},s.Threshold.defaults={editMode:!1,maxLines:Number.MAX_VALUE,thresholds:[]},s.Threshold.lineDefaults={borderColor:"#000000",borderWidth:1,borderDash:[],borderDashOffset:0};var r=e("./threshold.js")(s);t.exports=r,s.pluginService.register(r)},{"./threshold.js":4,"chart.js":1}],4:[function(e,t,o){"use strict";var s=e("./element.thresholdline.js");t.exports=function(e){function t(e){var t=e.ctx.canvas;c=document.createElement("canvas");var s=t.parentNode;s.appendChild(c),c.style.position="absolute",c.style.left="0px",c.style.top="0px",c.style.zIndex=1,h(c,"pointer"),o(e),e.threshold={elements:{},overlayCanvas:c,options:p.configMerge(e.options.threshold||{}),firstRun:!1}}function o(e){var t=e.currentDevicePixelRatio||1;c.width=e.width*t,c.height=e.height*t,c.getContext("2d").scale(t,t),c.style.height=e.height+"px",c.style.width=e.width+"px"}function r(t){f=t.options.threshold&&t.options.threshold.maxLines||Number.MAX_VALUE,y=t.options.threshold&&t.options.threshold.draw||!1,x=t.options.threshold&&t.options.threshold.scaleId||"y-axis-0",v=t.options.threshold&&t.options.threshold.line?p.configMerge(e.Threshold.lineDefaults,t.options.threshold.line):e.Threshold.lineDefaults,d=y?t.threshold.overlayCanvas.getContext("2d"):t.ctx,t.threshold.overlayCanvas.style.display=y?"block":"none",u=null}function n(e,t){y&&e.clearRect(0,0,e.canvas.width,e.canvas.height);for(var o in t)t[o].draw(e)}function h(e,t){e.style.cursor=t}function l(e){i(),u=e,u.setBorder(1),m=!0}function i(){u&&u.setBorder(0),u=null,m=!1}function a(e){var t=new CustomEvent("onThresholdSet",{detail:e.threshold.elements});e.ctx.canvas.dispatchEvent(t)}var d,u,f,v,c,p=e.helpers,m=!1,y=!1,x="y-axis-0",g=2;return{id:"threshold",afterInit:function(o){t(o),o.threshold._winKeyDownEventHandler=function(e){u&&8==e.keyCode&&(delete o.threshold.elements[u.id],i(),n(d,o.threshold.elements))},o.threshold._mouseDownEventHandler=function(t){var r=t.offsetX,h=t.offsetY;for(var v in o.threshold.elements)if(o.threshold.elements[v].inRange(r,h,g))return l(o.threshold.elements[v]),void n(d,o.threshold.elements);if(y){if(u)i();else if(Object.keys(o.threshold.elements).length<f){var c="line-"+(new Date).getTime(),m={id:c,scaleId:x,value:o.scales[x].getValueForPixel(t.offsetY)};o.threshold.elements[c]=new s(o,p.configMerge(e.Threshold.lineDefaults,m)),a(o)}n(d,o.threshold.elements)}},o.threshold._mouseMoveEventHandler=function(e){if(m)e.offsetY<=o.chartArea.bottom&&e.offsetY>=o.chartArea.top&&(u.value=o.scales[u.scaleId].getValueForPixel(e.offsetY),u.update(),n(d,o.threshold.elements));else{var t=e.offsetX,s=e.offsetY;for(var r in o.threshold.elements)if(o.threshold.elements[r].inRange(t,s,g))return void h(o.threshold.overlayCanvas,"move");h(o.threshold.overlayCanvas,"pointer")}},o.threshold._mouseUpEventHandler=function(e){m&&(m=!1,a(o))},p.addEvent(document,"keydown",o.threshold._winKeyDownEventHandler),p.addEvent(o.threshold.overlayCanvas,"mousedown",o.threshold._mouseDownEventHandler),p.addEvent(o.threshold.overlayCanvas,"mousemove",o.threshold._mouseMoveEventHandler),p.addEvent(o.threshold.overlayCanvas,"mouseup",o.threshold._mouseUpEventHandler)},afterScaleUpdate:function(e){for(var t in e.threshold.elements)e.threshold.elements[t].update()},afterUpdate:function(e){if(i(),r(e),e.options.threshold&&e.options.threshold.thresholds&&!e.threshold.firstRun){for(var t=e.options.threshold.thresholds,o=(e.chartArea.right-e.chartArea.left,0),n=t.length;o<n;o++){var h=t[o].id||"line-"+(new Date).getTime();e.threshold.elements[h]||(t[o].id=h,e.threshold.elements[h]=new s(e,p.configMerge(v,t[o])))}e.threshold.firstRun=!0}},afterDraw:function(e){n(d,e.threshold.elements)},resize:function(e){o(e)},destroy:function(e){p.removeEvent(document,"keydown",e.threshold._winKeyDownEventHandler),p.removeEvent(e.threshold.overlayCanvas,"mousedown",e.threshold._mouseDownEventHandler),p.removeEvent(e.threshold.overlayCanvas,"mousemove",e.threshold._mouseMoveEventHandler),p.removeEvent(e.threshold.overlayCanvas,"mouseup",e.threshold._mouseUpEventHandler),delete e.threshold}}}},{"./element.thresholdline.js":2}]},{},[3]);